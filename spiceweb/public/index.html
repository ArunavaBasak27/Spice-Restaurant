<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta
			name="description"
			content="Web site created using create-react-app"
		/>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
			crossorigin="anonymous"
		/>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css"
		/>
		<link
			rel="stylesheet"
			href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css"
		/>
		<link rel="stylesheet" href="/resources/demos/style.css" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/jquery-timepicker/1.14.0/jquery.timepicker.css"
			integrity="sha512-WlaNl0+Upj44uL9cq9cgIWSobsjEOD1H7GK1Ny1gmwl43sO0QAUxVpvX2x+5iQz/C60J3+bM7V07aC/CNWt/Yw=="
			crossorigin="anonymous"
			referrerpolicy="no-referrer"
		/>
		<title>Spice Restaurant App</title>
	</head>
	<body class="search-background">
		<noscript>You need to enable JavaScript to run this app.</noscript>
		<div id="root"></div>

		<script
			src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"
			integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js"
			integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ"
			crossorigin="anonymous"
		></script>

		<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
		<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/jquery-timepicker/1.14.0/jquery.timepicker.js"
			integrity="sha512-v84GNWs/NREzyztDm0s2NCXR9tIXH4aD/pe3uktyJeCWICr+/J38obdjXx1wxPRzTXHY54Hf0zBD5fbuRSNvGw=="
			crossorigin="anonymous"
			referrerpolicy="no-referrer"
		></script>
		<script>
			$(function () {
				var minDate = 0;
				if (getTimeFromCurrentDate().split(":")[0] >= 20) {
					minDate = 1;
				}
				$("#datepicker").datepicker({
					minDate: minDate,
					maxDate: "+1W",
					dateFormat: "yy-mm-dd",
				});
				$("#timepicker").timepicker({
					minTime: "11:00 AM",
					maxTime: "9:00 PM",
					step: "30",
				});

				function setPickUpTime() {
					var dateSelected = $("#datepicker").val();
					var dt = new Date(dateSelected);
					var today = new Date();
					if (dt > today) {
						selectedTime = "11:00am";
					} else {
						selectedTime = getTimeFromCurrentDate();
					}
					$("#timepicker").timepicker("option", {
						minTime: selectedTime,
					});
				}

				function getTimeFromCurrentDate() {
					var curDt = new Date();
					var minTime = "";

					if (curDt.getHours() < 11) {
						minTime = "12:00pm";
					} else {
						if (curDt.getMinutes() < 30) {
							minTime = (curDt.getHours() + 1).toString() + ":30pm";
						} else {
							minTime = (curDt.getHours() + 2).toString() + ":00pm";
						}
					}
					return minTime;
				}
				$("#datepicker").on("change", function () {
					setPickUpTime();
				});
			});
		</script>
	</body>
</html>
